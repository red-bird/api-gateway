# api gateway

![gateway](https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fmetroswitch.com%2Fwp-content%2Fuploads%2F2018%2F01%2FMS-gateway-Icons.png&f=1&nofb=1)

Сервис *api gateway* представляет собор сервис, с помощью которого можно обращаться на другие сервисы, не запоминая их адреса, 
что облегчает нам жизнь.

Собственно адрес: `http://localhost:8080/`

После добавляется либо название сервиса, а именно:
* `purchase-service/` - сервис "Покупки"
* `shops-service/` - сервис "Магазины"
* `factory-service/` - сервис "Заводы"

Пример: `http://localhost:8080/shops-service/`

Либо упрощенный, по моему мнению и более логичный путь, где `api/` - приставка:
* `api/purchase/` - сервис "Покупки"
* `api/shops/` - сервис "Магазины"
* `api/factory/` - сервис "Заводы"

Пример: `http://localhost:8080/api/shops/`

После этого добавляется путь в соответствии с документацией *swagger'a*.

Например: `http://localhost:8080/api/shops/shops` - при GET запросе, возвращается информация о всех магазинах.

Если через *api gateway* пользователь отправит несколько запросов на сервер, а тот не отвечает (определенное процент, за
определенное количество запросов), то случится прерывание схемы (circuit breaker), и какое-то время на запрос к сервису, 
он будет возвращать моментально ответ, не посылая никаких запросов, после этого он время от времени будет отсылать тестовые
запросы для проверки, поднялся ли сервер и можно ли возобновить отправку запросов. 